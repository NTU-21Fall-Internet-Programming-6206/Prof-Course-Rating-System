{"ast":null,"code":"import _slicedToArray from\"/Users/a.../Desktop/CI_6206/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useHistory}from\"react-router\";import Card from'../course_card';import'./index.css';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Choice(props){var history=useHistory();var token=localStorage.getItem('Token');var previousCourseID=props.location.state.course.courseID;var previousCourseName=props.location.state.course.courseName[0];var previousProfName=props.location.state.course.courseName[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),courseCR=_useState2[0],setCourseCR=_useState2[1];useEffect(function(){var url=\"http://34.126.85.190:8080/course-CR?course_id=\".concat(previousCourseID);var request=new Request(url,{method:\"get\",body:null,headers:new Headers({'Token':token,'Accept':\"application/json, text/plain, */*\",\"Content-Type\":\"application/json\"})});fetch(request).then(function(res){return res.json();}).then(function(json){setCourseCR(json.course_cr_list);}).catch(function(error){console.log(error);});},[]);var logOut=function logOut(){localStorage.setItem('Token','');localStorage.setItem('username','');window.dispatchEvent(new Event('storage'));history.push(\"/\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"professorContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"professorNav\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logOut\",onClick:logOut,children:\"Log out\"}),/*#__PURE__*/_jsx(\"span\",{className:\"returnDashboard\",onClick:function onClick(){return history.push(\"/dashboard\");},children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"span\",{className:\"createProfComment\",onClick:function onClick(){return history.push({pathname:'/courserate',state:{'course':props.location.state.course}});},children:\"Create new rate and comment\"})]}),/*#__PURE__*/_jsxs(\"h2\",{className:\"title\",children:[\"The comments on the course \",previousCourseID,\" \",previousCourseName]}),/*#__PURE__*/_jsx(\"div\",{className:\"profCommentArea\",children:courseCR.map(function(course){return/*#__PURE__*/_jsx(Card,{courseID:course.courseID,name:course.professorName,score:course.rating,comment:course.comment});})})]});}export default Choice;","map":{"version":3,"sources":["/Users/a.../Desktop/CI_6206/project/src/course/index.js"],"names":["useHistory","Card","useEffect","useState","Choice","props","history","token","localStorage","getItem","previousCourseID","location","state","course","courseID","previousCourseName","courseName","previousProfName","courseCR","setCourseCR","url","request","Request","method","body","headers","Headers","fetch","then","res","json","course_cr_list","catch","error","console","log","logOut","setItem","window","dispatchEvent","Event","push","pathname","map","professorName","rating","comment"],"mappings":"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","sourcesContent":["import { useHistory } from \"react-router\";\nimport Card from '../course_card'\nimport './index.css'\nimport { useEffect, useState } from 'react';\n\nfunction Choice(props) {\n    let history = useHistory();\n    let token = localStorage.getItem('Token');\n    let previousCourseID = props.location.state.course.courseID;\n    let previousCourseName = props.location.state.course.courseName[0]\n    let previousProfName = props.location.state.course.courseName[1]\n    \n    const [courseCR, setCourseCR] = useState([])\n\n    useEffect(() => {\n        const url = `http://34.126.85.190:8080/course-CR?course_id=${previousCourseID}`;\n        const request = new Request(url, {\n              method: \"get\",\n              body: null,\n              headers:new Headers ({\n              'Token': token,\n              'Accept': \"application/json, text/plain, */*\",\n              \"Content-Type\": \"application/json\"\n              })\n          })      \n          fetch(request).then((res) => {\n              return res.json()\n          }).then(json => {\n              setCourseCR(json.course_cr_list) \n          }).catch(error => {\n              console.log(error);\n          });\n    }\n  , [])\n\n    const logOut = () => {\n        localStorage.setItem('Token', '')\n        localStorage.setItem('username', '')\n        window.dispatchEvent(new Event('storage'))\n        history.push(\"/\")\n    }\n\n    return (\n        <div className=\"professorContainer\">\n            <div className=\"professorNav\">\n                <span className=\"logOut\" onClick={logOut}>\n                    Log out\n                </span>\n                <span className=\"returnDashboard\" onClick={()=>history.push(\"/dashboard\")}>\n                    Dashboard\n                </span>\n                <span className=\"createProfComment\" onClick={()=>history.push({pathname:'/courserate', state:{'course':props.location.state.course}})}>\n                    Create new rate and comment\n                </span>\n            </div>\n            <h2 className=\"title\">The comments on the course {previousCourseID} {previousCourseName}</h2>\n            <div className=\"profCommentArea\">\n                { courseCR.map((course) => { return <Card courseID={course.courseID} name={course.professorName} score={course.rating} comment={course.comment} /> }) }  \n            </div>\n        </div>\n    );\n  }\n  \n  export default Choice;"]},"metadata":{},"sourceType":"module"}