{"ast":null,"code":"import _slicedToArray from\"/Users/a.../Desktop/CI_6206/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import{useHistory}from\"react-router\";import TextField from\"@material-ui/core/TextField\";import{RangeStepInput}from'react-range-step-input';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProfessorForm(props){var history=useHistory();var token=localStorage.getItem('Token');var userName=localStorage.getItem('userName');var previousProf=props.location.state.course;var temp;if(typeof previousProf==='object'){temp=previousProf;}else{temp={'professorName':''};}var _useState=useState(temp.professorName),_useState2=_slicedToArray(_useState,2),professorName=_useState2[0],setProfName=_useState2[1];var _useState3=useState('3'),_useState4=_slicedToArray(_useState3,2),profRate=_useState4[0],setProfRate=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),profComment=_useState6[0],setProfComment=_useState6[1];var clickEntry=function clickEntry(){var prof_rate={'professor_name':professorName,'username':userName,'rate':parseInt(profRate),'comment':profComment};console.log(prof_rate);var request=new Request('http://34.126.85.190:8080/professor-CR/add',{method:\"POST\",body:JSON.stringify(prof_rate),headers:{'Token':token,Accept:\"application/json, text/plain, */*\",\"Content-Type\":\"application/json\"}});fetch(request).then(function(res){var temp=res.json();return temp;}).then(function(json){if(json.info==='Success'){alert('CR creation success');history.push('/dashboard');}else{alert('This professor CR failed to create');}console.log(json);}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"courseRateForm\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create a new comment and rate for a Professor\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard\",children:\"Go back to course comments page \"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(TextField,{name:\"profName\",label:\"Professor Name\",defaultValue:temp.professorName,id:\"outlined-basic\",variant:\"outlined\",margin:\"normal\",onChange:function onChange(e){return setProfName(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Rate: \",profRate]}),/*#__PURE__*/_jsx(RangeStepInput,{min:0,max:5,value:profRate,step:1,onChange:function onChange(e){return setProfRate(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Comments\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"courseComments\",name:\"courseComments\",maxLength:\"100\",onChange:function onChange(e){return setProfComment(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"small green button\",onClick:clickEntry,children:\"Complete\"})]});}export default ProfessorForm;","map":{"version":3,"sources":["/Users/a.../Desktop/CI_6206/project/src/professor_rate/index.js"],"names":["useState","useHistory","TextField","RangeStepInput","ProfessorForm","props","history","token","localStorage","getItem","userName","previousProf","location","state","course","temp","professorName","setProfName","profRate","setProfRate","profComment","setProfComment","clickEntry","prof_rate","parseInt","console","log","request","Request","method","body","JSON","stringify","headers","Accept","fetch","then","res","json","info","alert","push","catch","error","e","target","value"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport TextField from \"@material-ui/core/TextField\";\nimport {RangeStepInput} from 'react-range-step-input';\nimport './index.css'\n\nfunction ProfessorForm(props) {\n    let history = useHistory();\n    let token = localStorage.getItem('Token')\n    let userName = localStorage.getItem('userName')\n    let previousProf = props.location.state.course;\n\n    var temp\n    if (typeof previousProf === 'object') {\n        temp = previousProf\n    } else {\n        temp = {'professorName': ''}\n    }\n    const [professorName, setProfName] = useState(temp.professorName)\n    const [profRate, setProfRate] = useState('3')\n    const [profComment, setProfComment] = useState('')\n\n    const clickEntry = () => {\n        const prof_rate = {'professor_name': professorName, 'username': userName, 'rate': parseInt(profRate), 'comment':profComment}\n        console.log(prof_rate)\n        const request = new Request('http://34.126.85.190:8080/professor-CR/add', {\n            method: \"POST\",\n            body: JSON.stringify(prof_rate),\n            headers: {\n                'Token': token,\n                Accept: \"application/json, text/plain, */*\",\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        fetch(request)\n        .then(res => {\n          let temp = res.json()\n          return temp\n        })\n        .then(json => {\n          if (json.info === 'Success') {\n            alert('CR creation success')\n            history.push('/dashboard')\n          } else {\n            alert('This professor CR failed to create')\n          }\n          console.log(json)\n\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n\n    return (\n        <div className=\"courseRateForm\">\n            <h2>Create a new comment and rate for a Professor</h2>\n            <a href=\"/dashboard\">Go back to course comments page </a>\n            <div>\n                <TextField\n                    name=\"profName\"\n                    label=\"Professor Name\"\n                    defaultValue={temp.professorName}\n                    id=\"outlined-basic\"\n                    variant='outlined'\n                    margin=\"normal\"\n                    onChange={e => setProfName(e.target.value)}\n                />\n            </div> \n            <div>\n                <h4>Rate: {profRate}</h4>\n                <RangeStepInput min={0} max={5} value={profRate} step={1} onChange={(e)=>setProfRate(e.target.value)}/>\n            </div>\n            <div>\n                <p>Comments</p>\n                <textarea id=\"courseComments\" name=\"courseComments\" maxLength=\"100\"\n                onChange={(e)=>setProfComment(e.target.value)}>\n                </textarea>\n            </div>\n            <button className=\"small green button\" onClick={clickEntry}>\n                Complete\n            </button>\n        </div>\n    );\n  }\n  \n  export default ProfessorForm;"]},"metadata":{},"sourceType":"module"}