{"ast":null,"code":"import _slicedToArray from\"/Users/a.../Desktop/CI_6206/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import{useHistory}from\"react-router\";import TextField from\"@material-ui/core/TextField\";import{RangeStepInput}from'react-range-step-input';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CourseRate(props){var history=useHistory();var token=localStorage.getItem('Token');var userName=localStorage.getItem('userName');var previousCourse=props.location.state.course;var _useState=useState(previousCourse.professorName),_useState2=_slicedToArray(_useState,2),professorName=_useState2[0],setProfName=_useState2[1];var _useState3=useState(previousCourse.courseID),_useState4=_slicedToArray(_useState3,2),courseID=_useState4[0],setCourseID=_useState4[1];var _useState5=useState('3'),_useState6=_slicedToArray(_useState5,2),profRate=_useState6[0],setProfRate=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),profComment=_useState8[0],setProfComment=_useState8[1];var clickEntry=function clickEntry(){var prof_rate={'professor_name':professorName,'username':userName,'course_id':courseID,'rate':parseInt(profRate),'comment':profComment};console.log(prof_rate);var request=new Request('http://34.126.85.190:8080/course-CR/add',{method:\"POST\",body:JSON.stringify(prof_rate),headers:{'Token':token,Accept:\"application/json, text/plain, */*\",\"Content-Type\":\"application/json\"}});fetch(request).then(function(res){var temp=res.json();return temp;}).then(function(json){if(json.info==='Success'){alert('CR creation success');history.push('/dashboard');}else{alert('This professor CR failed to create');}console.log(json);}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"courseRateForm\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create a new comment and rate for a Course\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard\",children:\"Go back to course comments page \"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(TextField,{name:\"profName\",label:\"Professor Name\",defaultValue:previousCourse.professorName,id:\"outlined-basic\",variant:\"outlined\",margin:\"normal\",onChange:function onChange(e){return setProfName(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(TextField,{name:\"courseID\",label:\"Course ID\",defaultValue:previousCourse.courseID,id:\"outlined-basic\",variant:\"outlined\",margin:\"normal\",onChange:function onChange(e){return setCourseID(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Rate: \",profRate]}),/*#__PURE__*/_jsx(RangeStepInput,{min:0,max:5,value:profRate,step:1,onChange:function onChange(e){return setProfRate(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Comments\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"courseComments\",name:\"courseComments\",maxLength:\"100\",onChange:function onChange(e){return setProfComment(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"small green button\",onClick:clickEntry,children:\"Complete\"})]});}export default CourseRate;","map":{"version":3,"sources":["/Users/a.../Desktop/CI_6206/project/src/course_rate/index.js"],"names":["useState","useHistory","TextField","RangeStepInput","CourseRate","props","history","token","localStorage","getItem","userName","previousCourse","location","state","course","professorName","setProfName","courseID","setCourseID","profRate","setProfRate","profComment","setProfComment","clickEntry","prof_rate","parseInt","console","log","request","Request","method","body","JSON","stringify","headers","Accept","fetch","then","res","temp","json","info","alert","push","catch","error","e","target","value"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport TextField from \"@material-ui/core/TextField\";\nimport {RangeStepInput} from 'react-range-step-input';\nimport './index.css'\n\nfunction CourseRate(props) {\n    let history = useHistory();\n    let token = localStorage.getItem('Token')\n    let userName = localStorage.getItem('userName')\n    let previousCourse = props.location.state.course;\n    const [professorName, setProfName] = useState(previousCourse.professorName)\n    const [courseID, setCourseID] = useState(previousCourse.courseID)\n    const [profRate, setProfRate] = useState('3')\n    const [profComment, setProfComment] = useState('')\n\n    const clickEntry = () => {\n        const prof_rate = {'professor_name': professorName, 'username': userName, 'course_id': courseID,'rate': parseInt(profRate), 'comment':profComment}\n        console.log(prof_rate)\n        const request = new Request('http://34.126.85.190:8080/course-CR/add', {\n            method: \"POST\",\n            body: JSON.stringify(prof_rate),\n            headers: {\n                'Token': token,\n                Accept: \"application/json, text/plain, */*\",\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        fetch(request)\n        .then(res => {\n          let temp = res.json()\n          return temp\n        })\n        .then(json => {\n          if (json.info === 'Success') {\n            alert('CR creation success')\n            history.push('/dashboard')\n          } else {\n            alert('This professor CR failed to create')\n          }\n          console.log(json)\n\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n\n    return (\n        <div className=\"courseRateForm\">\n            <h2>Create a new comment and rate for a Course</h2>\n            <a href=\"/dashboard\">Go back to course comments page </a>\n            <div>\n                <TextField\n                    name=\"profName\"\n                    label=\"Professor Name\"\n                    defaultValue={previousCourse.professorName}\n                    id=\"outlined-basic\"\n                    variant='outlined'\n                    margin=\"normal\"\n                    onChange={e => setProfName(e.target.value)}\n                />\n            </div>\n            <div>\n                <TextField\n                    name=\"courseID\"\n                    label=\"Course ID\"\n                    defaultValue={previousCourse.courseID}\n                    id=\"outlined-basic\"\n                    variant='outlined'\n                    margin=\"normal\"\n                    onChange={e => setCourseID(e.target.value)}\n                />\n            </div> \n            <div>\n                <h4>Rate: {profRate}</h4>\n                <RangeStepInput min={0} max={5} value={profRate} step={1} onChange={(e)=>setProfRate(e.target.value)}/>   \n            </div>\n            <div>\n                <p>Comments</p>\n                <textarea id=\"courseComments\" name=\"courseComments\" maxLength=\"100\"\n                onChange={(e)=>setProfComment(e.target.value)}>\n                </textarea>\n            </div>\n            <button className=\"small green button\" onClick={clickEntry}>\n                Complete\n            </button>\n        </div>\n    );\n  }\n  \n  export default CourseRate;"]},"metadata":{},"sourceType":"module"}